{"remainingRequest":"/Users/tron/Documents/AutoTestScan_Front/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/tron/Documents/AutoTestScan_Front/src/views/Home.vue?vue&type=style&index=1&lang=css&","dependencies":[{"path":"/Users/tron/Documents/AutoTestScan_Front/src/views/Home.vue","mtime":1677582782081},{"path":"/Users/tron/Documents/AutoTestScan_Front/node_modules/css-loader/dist/cjs.js","mtime":1675062959281},{"path":"/Users/tron/Documents/AutoTestScan_Front/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1675062960652},{"path":"/Users/tron/Documents/AutoTestScan_Front/node_modules/postcss-loader/src/index.js","mtime":1675062960014},{"path":"/Users/tron/Documents/AutoTestScan_Front/node_modules/cache-loader/dist/cjs.js","mtime":1675062959021},{"path":"/Users/tron/Documents/AutoTestScan_Front/node_modules/vue-loader/lib/index.js","mtime":1675062960652}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgouZWwtdGFnIHsKICBtYXJnaW4tbGVmdDogMTJweDsKICB0ZXh0LW92ZXJmbG93OiBlbGxpcHNpczsKICBvdmVyZmxvdzogaGlkZGVuOwogIG1heC13aWR0aDogNTQycHg7Cn0K"},{"version":3,"sources":["Home.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0HA;AACA;AACA;AACA;AACA;AACA","file":"Home.vue","sourceRoot":"src/views","sourcesContent":["\n\n<template>\n\n  <el-card v-loading=\"loading\">\n\n    <img :src=\"imageUrl\" alt=\"My Image\">\n\n\n\n\n    <div slot=\"header\" class=\"clearfix\">\n      <span style=\"font-weight: 600;font-size: 18px;\">本周线上问题</span>\n<!--      <el-button style=\"float: right; padding: 3px 0\" type=\"text\">操作按钮</el-button>-->\n    </div>\n    <div style=\"margin-bottom: 10px;\"  v-for=\"(item, index) in bugList\" :key=\"index\">\n      <div style=\"width: 120px;float: left\"><el-tag style=\"font-weight: 400;font-size: 15px;\" v-show=\"item.projecName\" type=\"success\">{{item.projecName}}</el-tag></div>\n      <el-tag style=\"width:41px;font-weight: 400;font-size: 15px;\" v-show=\"item.bugLevel\" type=\"warning\">{{item.bugLevel}}</el-tag>\n      <el-tag v-show=\"item.onlinetest\" type=\"info\">onlinetest</el-tag>\n      <el-button size=\"small\" @click=\"getmsg(item.key)\" type=\"primary\" style=\"margin-right: 16px;float: right\">\n        查看详情\n      </el-button>\n      <el-drawer\n          title=\"标题\"\n          :visible.sync=\"drawer\"\n          :with-header=\"false\"\n          size=\"60%\">\n        <div style=\"height:100vh; overflow-y: auto;\" v-if=\"bug\">\n          <p>{{ bug.summary }}</p>\n          <FormattedString :inputString=bug.description />\n          <!-- add more data as required -->\n        </div>\n      </el-drawer>\n\n      <el-popover\n          placement=\"top-start\"\n          width=\"300\"\n          trigger=\"hover\"\n          :content=\"item.content\">\n        <el-tag effect=\"plain\" style=\"width:570px;float:right;font-size: 15px;margin-right: 4px\" slot=\"reference\" v-show=\"item.content\"><a target=\"_blank\"  :href=\"'https://troneco.atlassian.net/browse/' +item.key\">{{item.content }}</a></el-tag>\n      </el-popover>\n    </div>\n\n\n  </el-card>\n</template>\n<style scoped>\n\n</style>\n\n<script>\n  import moment from \"moment\";\n  import FormattedString from '@/components/HelloWorld.vue';\n  import axios from 'axios';\n\n  export default {\n    components: {\n      FormattedString,\n    },\n    data() {\n      return {\n        loading: true,\n        bugList : [],\n        show3: true,\n        drawer: false,\n        bug:[],\n        imageUrl: ''\n      }\n    },\n    methods:{\n      async getBugList() {\n        const start = moment().startOf(\"week\").format(\"YYYY-MM-DD\");\n        const end = moment().endOf(\"week\").format(\"YYYY-MM-DD\");\n        try {\n          const response = await this.$axios.get(\"/online_bug_list\", {\n            params: {\n              startDate: start,\n              endDate: end\n            }\n          });\n          this.bugList = response.data;\n          this.loading = false;\n        } catch (error) {\n          console.error(error);\n        }\n\n      },\n      async getmsg(key) {\n        try {\n          const response = await this.$axios.get(\"/online_bug\", {\n            params: {\n              key: key,\n            }\n          });\n          this.bug = response.data;\n        } catch (error) {\n          console.error(error);\n        }\n        this.drawer = true;\n      }\n    },\n    created() {\n      this.loadImage();\n      this.getBugList();\n      const config = {\n        headers: {\n          \"Authorization\":\"Basic a2Vyd2luLnpodUB0cm9uLm5ldHdvcms6QVRBVFQzeEZmR0YwNHk1YlEwbDE0c3NFcFl6cGJFX2dZcEZZNHRHU0ZIaG5HRWhobEwtcGVXWWoyb3UybTA1UmVMUWVSbTlfZmY0QWxJUUpnd1pJRUR0WElQUlB0VXI3T3RZbGRhMy1FbTM4TEs1VlhQUUlsLUV4VkVTQjEzTE5oYk53RUxtZ2dJN0FDSTFEMklKRzdoeWZCdkNVenZxRmpFMzFUQTRmcDNkMy05WHY5SlU3UTQ4PTNGRTY5ODRF\"\n        },\n        responseType: 'blob' // 告诉axios以二进制流的形式返回响应数据\n      };\n      axios.get('http://example.com/image.jpg', config)\n          .then(response => {\n            const url = window.URL.createObjectURL(response.data);\n            this.imageUrl = url;\n          })\n          .catch(error => {\n            console.error(error);\n          });\n    }\n  };\n</script>\n<style>\n.el-tag {\n  margin-left: 12px;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  max-width: 542px;\n}\n</style>"]}]}