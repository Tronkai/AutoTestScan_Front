{"remainingRequest":"/Users/tron/Documents/AutoTestScan_Front/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/tron/Documents/AutoTestScan_Front/src/views/Home.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/tron/Documents/AutoTestScan_Front/src/views/Home.vue","mtime":1677582782081},{"path":"/Users/tron/Documents/AutoTestScan_Front/node_modules/cache-loader/dist/cjs.js","mtime":1675062959021},{"path":"/Users/tron/Documents/AutoTestScan_Front/node_modules/babel-loader/lib/index.js","mtime":1675062958840},{"path":"/Users/tron/Documents/AutoTestScan_Front/node_modules/cache-loader/dist/cjs.js","mtime":1675062959021},{"path":"/Users/tron/Documents/AutoTestScan_Front/node_modules/vue-loader/lib/index.js","mtime":1675062960652}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBtb21lbnQgZnJvbSAibW9tZW50IjsKaW1wb3J0IEZvcm1hdHRlZFN0cmluZyBmcm9tICdAL2NvbXBvbmVudHMvSGVsbG9Xb3JsZC52dWUnOwppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnOwoKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIEZvcm1hdHRlZFN0cmluZywKICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBsb2FkaW5nOiB0cnVlLAogICAgICBidWdMaXN0IDogW10sCiAgICAgIHNob3czOiB0cnVlLAogICAgICBkcmF3ZXI6IGZhbHNlLAogICAgICBidWc6W10sCiAgICAgIGltYWdlVXJsOiAnJwogICAgfQogIH0sCiAgbWV0aG9kczp7CiAgICBhc3luYyBnZXRCdWdMaXN0KCkgewogICAgICBjb25zdCBzdGFydCA9IG1vbWVudCgpLnN0YXJ0T2YoIndlZWsiKS5mb3JtYXQoIllZWVktTU0tREQiKTsKICAgICAgY29uc3QgZW5kID0gbW9tZW50KCkuZW5kT2YoIndlZWsiKS5mb3JtYXQoIllZWVktTU0tREQiKTsKICAgICAgdHJ5IHsKICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuJGF4aW9zLmdldCgiL29ubGluZV9idWdfbGlzdCIsIHsKICAgICAgICAgIHBhcmFtczogewogICAgICAgICAgICBzdGFydERhdGU6IHN0YXJ0LAogICAgICAgICAgICBlbmREYXRlOiBlbmQKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgICB0aGlzLmJ1Z0xpc3QgPSByZXNwb25zZS5kYXRhOwogICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlOwogICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpOwogICAgICB9CgogICAgfSwKICAgIGFzeW5jIGdldG1zZyhrZXkpIHsKICAgICAgdHJ5IHsKICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuJGF4aW9zLmdldCgiL29ubGluZV9idWciLCB7CiAgICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgICAga2V5OiBrZXksCiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgICAgdGhpcy5idWcgPSByZXNwb25zZS5kYXRhOwogICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpOwogICAgICB9CiAgICAgIHRoaXMuZHJhd2VyID0gdHJ1ZTsKICAgIH0KICB9LAogIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmxvYWRJbWFnZSgpOwogICAgdGhpcy5nZXRCdWdMaXN0KCk7CiAgICBjb25zdCBjb25maWcgPSB7CiAgICAgIGhlYWRlcnM6IHsKICAgICAgICAiQXV0aG9yaXphdGlvbiI6IkJhc2ljIGEyVnlkMmx1TG5wb2RVQjBjbTl1TG01bGRIZHZjbXM2UVZSQlZGUXplRVptUjBZd05IazFZbEV3YkRFMGMzTkZjRmw2Y0dKRlgyZFpjRVpaTkhSSFUwWklhRzVIUldob2JFd3RjR1ZYV1dveWIzVXliVEExVW1WTVVXVlNiVGxmWm1ZMFFXeEpVVXBuZDFwSlJVUjBXRWxRVWxCMFZYSTNUM1JaYkdSaE15MUZiVE00VEVzMVZsaFFVVWxzTFVWNFZrVlRRakV6VEU1b1lrNTNSVXh0WjJkSk4wRkRTVEZFTWtsS1J6ZG9lV1pDZGtOVmVuWnhSbXBGTXpGVVFUUm1jRE5rTXkwNVdIWTVTbFUzVVRRNFBUTkdSVFk1T0RSRiIKICAgICAgfSwKICAgICAgcmVzcG9uc2VUeXBlOiAnYmxvYicgLy8g5ZGK6K+JYXhpb3Pku6Xkuozov5vliLbmtYHnmoTlvaLlvI/ov5Tlm57lk43lupTmlbDmja4KICAgIH07CiAgICBheGlvcy5nZXQoJ2h0dHA6Ly9leGFtcGxlLmNvbS9pbWFnZS5qcGcnLCBjb25maWcpCiAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgICAgY29uc3QgdXJsID0gd2luZG93LlVSTC5jcmVhdGVPYmplY3RVUkwocmVzcG9uc2UuZGF0YSk7CiAgICAgICAgICB0aGlzLmltYWdlVXJsID0gdXJsOwogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKGVycm9yID0+IHsKICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpOwogICAgICAgIH0pOwogIH0KfTsK"},{"version":3,"sources":["Home.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmDA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Home.vue","sourceRoot":"src/views","sourcesContent":["\n\n<template>\n\n  <el-card v-loading=\"loading\">\n\n    <img :src=\"imageUrl\" alt=\"My Image\">\n\n\n\n\n    <div slot=\"header\" class=\"clearfix\">\n      <span style=\"font-weight: 600;font-size: 18px;\">本周线上问题</span>\n<!--      <el-button style=\"float: right; padding: 3px 0\" type=\"text\">操作按钮</el-button>-->\n    </div>\n    <div style=\"margin-bottom: 10px;\"  v-for=\"(item, index) in bugList\" :key=\"index\">\n      <div style=\"width: 120px;float: left\"><el-tag style=\"font-weight: 400;font-size: 15px;\" v-show=\"item.projecName\" type=\"success\">{{item.projecName}}</el-tag></div>\n      <el-tag style=\"width:41px;font-weight: 400;font-size: 15px;\" v-show=\"item.bugLevel\" type=\"warning\">{{item.bugLevel}}</el-tag>\n      <el-tag v-show=\"item.onlinetest\" type=\"info\">onlinetest</el-tag>\n      <el-button size=\"small\" @click=\"getmsg(item.key)\" type=\"primary\" style=\"margin-right: 16px;float: right\">\n        查看详情\n      </el-button>\n      <el-drawer\n          title=\"标题\"\n          :visible.sync=\"drawer\"\n          :with-header=\"false\"\n          size=\"60%\">\n        <div style=\"height:100vh; overflow-y: auto;\" v-if=\"bug\">\n          <p>{{ bug.summary }}</p>\n          <FormattedString :inputString=bug.description />\n          <!-- add more data as required -->\n        </div>\n      </el-drawer>\n\n      <el-popover\n          placement=\"top-start\"\n          width=\"300\"\n          trigger=\"hover\"\n          :content=\"item.content\">\n        <el-tag effect=\"plain\" style=\"width:570px;float:right;font-size: 15px;margin-right: 4px\" slot=\"reference\" v-show=\"item.content\"><a target=\"_blank\"  :href=\"'https://troneco.atlassian.net/browse/' +item.key\">{{item.content }}</a></el-tag>\n      </el-popover>\n    </div>\n\n\n  </el-card>\n</template>\n<style scoped>\n\n</style>\n\n<script>\n  import moment from \"moment\";\n  import FormattedString from '@/components/HelloWorld.vue';\n  import axios from 'axios';\n\n  export default {\n    components: {\n      FormattedString,\n    },\n    data() {\n      return {\n        loading: true,\n        bugList : [],\n        show3: true,\n        drawer: false,\n        bug:[],\n        imageUrl: ''\n      }\n    },\n    methods:{\n      async getBugList() {\n        const start = moment().startOf(\"week\").format(\"YYYY-MM-DD\");\n        const end = moment().endOf(\"week\").format(\"YYYY-MM-DD\");\n        try {\n          const response = await this.$axios.get(\"/online_bug_list\", {\n            params: {\n              startDate: start,\n              endDate: end\n            }\n          });\n          this.bugList = response.data;\n          this.loading = false;\n        } catch (error) {\n          console.error(error);\n        }\n\n      },\n      async getmsg(key) {\n        try {\n          const response = await this.$axios.get(\"/online_bug\", {\n            params: {\n              key: key,\n            }\n          });\n          this.bug = response.data;\n        } catch (error) {\n          console.error(error);\n        }\n        this.drawer = true;\n      }\n    },\n    created() {\n      this.loadImage();\n      this.getBugList();\n      const config = {\n        headers: {\n          \"Authorization\":\"Basic a2Vyd2luLnpodUB0cm9uLm5ldHdvcms6QVRBVFQzeEZmR0YwNHk1YlEwbDE0c3NFcFl6cGJFX2dZcEZZNHRHU0ZIaG5HRWhobEwtcGVXWWoyb3UybTA1UmVMUWVSbTlfZmY0QWxJUUpnd1pJRUR0WElQUlB0VXI3T3RZbGRhMy1FbTM4TEs1VlhQUUlsLUV4VkVTQjEzTE5oYk53RUxtZ2dJN0FDSTFEMklKRzdoeWZCdkNVenZxRmpFMzFUQTRmcDNkMy05WHY5SlU3UTQ4PTNGRTY5ODRF\"\n        },\n        responseType: 'blob' // 告诉axios以二进制流的形式返回响应数据\n      };\n      axios.get('http://example.com/image.jpg', config)\n          .then(response => {\n            const url = window.URL.createObjectURL(response.data);\n            this.imageUrl = url;\n          })\n          .catch(error => {\n            console.error(error);\n          });\n    }\n  };\n</script>\n<style>\n.el-tag {\n  margin-left: 12px;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  max-width: 542px;\n}\n</style>"]}]}