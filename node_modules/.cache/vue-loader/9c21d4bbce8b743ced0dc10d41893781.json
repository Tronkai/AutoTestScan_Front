{"remainingRequest":"/Users/tron/Documents/AutoTestScan_Front/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/tron/Documents/AutoTestScan_Front/src/views/TronlinkExtension.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/tron/Documents/AutoTestScan_Front/src/views/TronlinkExtension.vue","mtime":1675999611031},{"path":"/Users/tron/Documents/AutoTestScan_Front/node_modules/cache-loader/dist/cjs.js","mtime":1675062959021},{"path":"/Users/tron/Documents/AutoTestScan_Front/node_modules/babel-loader/lib/index.js","mtime":1675062958840},{"path":"/Users/tron/Documents/AutoTestScan_Front/node_modules/cache-loader/dist/cjs.js","mtime":1675062959021},{"path":"/Users/tron/Documents/AutoTestScan_Front/node_modules/vue-loader/lib/index.js","mtime":1675062960652}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBtb21lbnQgZnJvbSAnbW9tZW50JzsKZXhwb3J0IGRlZmF1bHQgewogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBwcm9qZWN0TmFtZTonVEUnLAogICAgICBpc1RoaXNZZWFyU2VsZWN0ZWQ6IHRydWUsCiAgICAgIHNlbGVjdGVkVGltZTogIuacrOW5tCIsCiAgICAgIGl0ZW1zOiBbXSwKICAgICAgZGF0ZTogW10sCiAgICAgIHByb2plY3RzOiBbXQogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgaGFuZGxlU2VsZWN0KGNvbW1hbmQpIHsKICAgICAgdGhpcy5zZWxlY3RlZFRpbWUgPSBjb21tYW5kOwogICAgICBpZiAoY29tbWFuZCA9PT0gIuacrOWRqCIpIHsKICAgICAgICB0aGlzLnNlbGVjdFdlZWsoKTsKICAgICAgfSBlbHNlIGlmIChjb21tYW5kID09PSAi5pys5pyIIikgewogICAgICAgIHRoaXMuc2VsZWN0TW9udGgoKTsKICAgICAgfSBlbHNlIGlmIChjb21tYW5kID09PSAi5pys5a2j5bqmIikgewogICAgICAgIHRoaXMuc2VsZWN0UXVhcnRlcigpOwogICAgICB9IGVsc2UgaWYgKGNvbW1hbmQgPT09ICLmnKzlubQiKSB7CiAgICAgICAgdGhpcy5zZWxlY3RZZWFyKCk7CiAgICAgIH0KICAgIH0sCiAgICB1cGRhdGVEYXRhKHZhbCkgewogICAgICB0aGlzLmRhdGUgPSB2YWw7CiAgICAgIHRoaXMuZmV0Y2hQcm9qZWN0U3RhdHVzKHRoaXMucHJvamVjdE5hbWUsdGhpcy5kYXRlKQogICAgfSwKICAgIHNlbGVjdFdlZWsoKSB7CiAgICAgIHRoaXMuaXNUaGlzWWVhclNlbGVjdGVkID0gZmFsc2U7CiAgICAgIGNvbnN0IHN0YXJ0ID0gbW9tZW50KCkuc3RhcnRPZigid2VlayIpLmZvcm1hdCgiWVlZWS1NTS1ERCIpOwogICAgICBjb25zdCBlbmQgPSBtb21lbnQoKS5lbmRPZigid2VlayIpLmZvcm1hdCgiWVlZWS1NTS1ERCIpOwogICAgICB0aGlzLmRhdGUgPSBbc3RhcnQsIGVuZF07CiAgICAgIHRoaXMuZmV0Y2hQcm9qZWN0U3RhdHVzKHRoaXMucHJvamVjdE5hbWUsdGhpcy5kYXRlKQoKICAgIH0sCiAgICBzZWxlY3RNb250aCgpIHsKICAgICAgdGhpcy5pc1RoaXNZZWFyU2VsZWN0ZWQgPSBmYWxzZTsKICAgICAgY29uc3Qgc3RhcnQgPSBtb21lbnQoKS5zdGFydE9mKCJtb250aCIpLmZvcm1hdCgiWVlZWS1NTS1ERCIpOwogICAgICBjb25zdCBlbmQgPSBtb21lbnQoKS5lbmRPZigibW9udGgiKS5mb3JtYXQoIllZWVktTU0tREQiKTsKICAgICAgdGhpcy5kYXRlID0gW3N0YXJ0LCBlbmRdOwogICAgICB0aGlzLmZldGNoUHJvamVjdFN0YXR1cyh0aGlzLnByb2plY3ROYW1lLHRoaXMuZGF0ZSkKCgogICAgfSwKICAgIHNlbGVjdFF1YXJ0ZXIoKSB7CiAgICAgIHRoaXMuaXNUaGlzWWVhclNlbGVjdGVkID0gZmFsc2U7CiAgICAgIGNvbnN0IG1vbnRoID0gbW9tZW50KCkubW9udGgoKTsKICAgICAgbGV0IHF1YXJ0ZXJTdGFydCwgcXVhcnRlckVuZDsKICAgICAgaWYgKG1vbnRoIDwgMykgewogICAgICAgIHF1YXJ0ZXJTdGFydCA9IG1vbWVudCgpLnNldCh7IG1vbnRoOiAwLCBkYXRlOiAxIH0pLmZvcm1hdCgiWVlZWS1NTS1ERCIpOwogICAgICAgIHF1YXJ0ZXJFbmQgPSBtb21lbnQoKS5zZXQoeyBtb250aDogMiwgZGF0ZTogMzEgfSkuZm9ybWF0KCJZWVlZLU1NLUREIik7CiAgICAgIH0gZWxzZSBpZiAobW9udGggPCA2KSB7CiAgICAgICAgcXVhcnRlclN0YXJ0ID0gbW9tZW50KCkuc2V0KHsgbW9udGg6IDMsIGRhdGU6IDEgfSkuZm9ybWF0KCJZWVlZLU1NLUREIik7CiAgICAgICAgcXVhcnRlckVuZCA9IG1vbWVudCgpLnNldCh7IG1vbnRoOiA1LCBkYXRlOiAzMCB9KS5mb3JtYXQoIllZWVktTU0tREQiKTsKICAgICAgfSBlbHNlIGlmIChtb250aCA8IDkpIHsKICAgICAgICBxdWFydGVyU3RhcnQgPSBtb21lbnQoKS5zZXQoeyBtb250aDogNiwgZGF0ZTogMSB9KS5mb3JtYXQoIllZWVktTU0tREQiKTsKICAgICAgICBxdWFydGVyRW5kID0gbW9tZW50KCkuc2V0KHsgbW9udGg6IDgsIGRhdGU6IDMwIH0pLmZvcm1hdCgiWVlZWS1NTS1ERCIpOwogICAgICB9IGVsc2UgewogICAgICAgIHF1YXJ0ZXJTdGFydCA9IG1vbWVudCgpLnNldCh7IG1vbnRoOiA5LCBkYXRlOiAxIH0pLmZvcm1hdCgiWVlZWS1NTS1ERCIpOwogICAgICAgIHF1YXJ0ZXJFbmQgPSBtb21lbnQoKS5zZXQoeyBtb250aDogMTEsIGRhdGU6IDMxIH0pLmZvcm1hdCgiWVlZWS1NTS1ERCIpOwogICAgICB9CiAgICAgIHRoaXMuZGF0ZSA9IFtxdWFydGVyU3RhcnQsIHF1YXJ0ZXJFbmRdOwogICAgICB0aGlzLmZldGNoUHJvamVjdFN0YXR1cyh0aGlzLnByb2plY3ROYW1lLHRoaXMuZGF0ZSkKCgogICAgfSwKICAgIHNlbGVjdFllYXIoKSB7CiAgICAgIGNvbnN0IHN0YXJ0ID0gbW9tZW50KCkuc3RhcnRPZigieWVhciIpLmZvcm1hdCgiWVlZWS1NTS1ERCIpOwogICAgICBjb25zdCBlbmQgPSBtb21lbnQoKS5lbmRPZigieWVhciIpLmZvcm1hdCgiWVlZWS1NTS1ERCIpOwogICAgICB0aGlzLmRhdGUgPSBbc3RhcnQsIGVuZF07CiAgICAgIHRoaXMuZmV0Y2hQcm9qZWN0U3RhdHVzKHRoaXMucHJvamVjdE5hbWUsdGhpcy5kYXRlKQoKICAgIH0sCiAgICBnZXREYXRhKCl7CiAgICAgIGNvbnN0IG51bWJlcnMgPSBbMSwgMjAwLCA0LCA4MzIsIDIyMSwgIjU2MOWkqSJdOwogICAgICB0aGlzLml0ZW1zID0gdGhpcy5pdGVtcy5tYXAoKGl0ZW0sIGluZGV4KSA9PiB7CiAgICAgICAgcmV0dXJuIHsgbmFtZTogaXRlbS5uYW1lLCBudW1iZXI6IG51bWJlcnNbaW5kZXhdLnRvU3RyaW5nKCkgfTsKICAgICAgfSk7CiAgICB9LAogICAgYXN5bmMgZmV0Y2hQcm9qZWN0cyhwcm9qZWN0KSB7CiAgICAgIHRyeSB7CiAgICAgICAgLy8g6L+Z6YeM5Y+v5Lul5L2/55SoYXhpb3PmiJblhbbku5bmlrnms5Xlj5HpgIHor7fmsYLojrflj5bmlbDmja4KICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuJGF4aW9zLmdldCgiL2VwaWMiLHsKICAgICAgICAgIHBhcmFtczp7CiAgICAgICAgICAgIHByb2plY3Q6IHByb2plY3QsCiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgICAgdGhpcy5wcm9qZWN0cyA9IHJlc3BvbnNlLmRhdGE7CiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7CiAgICAgIH0KICAgIH0sCiAgICBhc3luYyBmZXRjaFByb2plY3RTdGF0dXMocHJvamVjdCxkYXRlKSB7CiAgICAgIHRyeSB7CiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLiRheGlvcy5nZXQoIi9zdGF0dXMiLHsKICAgICAgICAgIHBhcmFtczp7CiAgICAgICAgICAgIHByb2plY3Q6IHByb2plY3QsCiAgICAgICAgICAgIHN0YXJ0RGF0ZTogZGF0ZVswXSwKICAgICAgICAgICAgZW5kRGF0ZTogZGF0ZVsxXQogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlLmRhdGEpCiAgICAgICAgdGhpcy5pdGVtcyA9IHJlc3BvbnNlLmRhdGE7CiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7CiAgICAgIH0KICAgIH0KICB9LAogIGNyZWF0ZWQoKSB7CiAgICB0aGlzLnNlbGVjdFllYXIoKTsKICAgIHRoaXMuZmV0Y2hQcm9qZWN0cyh0aGlzLnByb2plY3ROYW1lKTsKCiAgfQp9Cg=="},{"version":3,"sources":["TronlinkExtension.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA","file":"TronlinkExtension.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div>\n    <el-card class=\"big-card\" :body-style=\"{ padding: '0px' }\">\n      <div style=\"display: flex; justify-content: flex-end; margin-top: 15px ;border-bottom: 1px solid #f0f2f3;padding-bottom: 15px\">\n        <span style=\"margin-right: 190px;margin-top: 8px;font-weight: bold\">关键数据</span>\n        <el-button-group class=\"ml-4\">\n          <el-button  class=\"selected-button\" size=\"large\" @click=\"selectWeek\">本周</el-button>\n          <el-button  class=\"selected-button\" size=\"large\" @click=\"selectMonth\">本月</el-button>\n          <el-button  class=\"selected-button\" size=\"large\" @click=\"selectQuarter\">本季度</el-button>\n          <el-button  class=\"selected-button\" size=\"large\" @click=\"selectYear\" >本年</el-button>\n          <el-date-picker value-format=\"yyyy-MM-dd\"  v-model=\"date\" type=\"daterange\" size=\"large\" @change=\"updateData\" style=\"margin-left: 3px;margin-right: 10px; width: 225px;\" />\n        </el-button-group>\n      </div>\n      <el-row :gutter=\"20\">\n        <el-col :span=\"12\" v-for=\"item in items\" :key=\"item.name\">\n          <div class=\"item-content\">\n            <p>{{item.name}}</p>\n            <p>{{item.number}}</p>\n          </div>\n        </el-col>\n      </el-row>\n    </el-card>\n    <el-card>\n\n      <el-table :data=\"projects\" border stripe>\n        <el-table-column prop=\"content\" label=\"项目内容\" width=\"500px\">\n          <template slot-scope=\"scope\">\n            <a :href=\"'https://troneco.atlassian.net/browse/' +scope.row.key\">{{ scope.row.content }}</a>\n          </template>\n        </el-table-column>\n        <el-table-column prop=\"startTime\" label=\"开始时间\" width=\"120px\">\n        </el-table-column>\n        <el-table-column prop=\"expectedTime\" label=\"预计上线时间\" width=\"120px\"></el-table-column>\n        <!--      <el-table-column prop=\"bugCount\" label=\"Bug数\" width=\"80px\"></el-table-column>-->\n        <el-table-column prop=\"status\" label=\"状态\" width=\"80px\"></el-table-column>\n      </el-table>\n    </el-card>\n\n  </div>\n\n\n</template>\n\n<script>\nimport moment from 'moment';\nexport default {\n  data() {\n    return {\n      projectName:'TE',\n      isThisYearSelected: true,\n      selectedTime: \"本年\",\n      items: [],\n      date: [],\n      projects: []\n    }\n  },\n  methods: {\n    handleSelect(command) {\n      this.selectedTime = command;\n      if (command === \"本周\") {\n        this.selectWeek();\n      } else if (command === \"本月\") {\n        this.selectMonth();\n      } else if (command === \"本季度\") {\n        this.selectQuarter();\n      } else if (command === \"本年\") {\n        this.selectYear();\n      }\n    },\n    updateData(val) {\n      this.date = val;\n      this.fetchProjectStatus(this.projectName,this.date)\n    },\n    selectWeek() {\n      this.isThisYearSelected = false;\n      const start = moment().startOf(\"week\").format(\"YYYY-MM-DD\");\n      const end = moment().endOf(\"week\").format(\"YYYY-MM-DD\");\n      this.date = [start, end];\n      this.fetchProjectStatus(this.projectName,this.date)\n\n    },\n    selectMonth() {\n      this.isThisYearSelected = false;\n      const start = moment().startOf(\"month\").format(\"YYYY-MM-DD\");\n      const end = moment().endOf(\"month\").format(\"YYYY-MM-DD\");\n      this.date = [start, end];\n      this.fetchProjectStatus(this.projectName,this.date)\n\n\n    },\n    selectQuarter() {\n      this.isThisYearSelected = false;\n      const month = moment().month();\n      let quarterStart, quarterEnd;\n      if (month < 3) {\n        quarterStart = moment().set({ month: 0, date: 1 }).format(\"YYYY-MM-DD\");\n        quarterEnd = moment().set({ month: 2, date: 31 }).format(\"YYYY-MM-DD\");\n      } else if (month < 6) {\n        quarterStart = moment().set({ month: 3, date: 1 }).format(\"YYYY-MM-DD\");\n        quarterEnd = moment().set({ month: 5, date: 30 }).format(\"YYYY-MM-DD\");\n      } else if (month < 9) {\n        quarterStart = moment().set({ month: 6, date: 1 }).format(\"YYYY-MM-DD\");\n        quarterEnd = moment().set({ month: 8, date: 30 }).format(\"YYYY-MM-DD\");\n      } else {\n        quarterStart = moment().set({ month: 9, date: 1 }).format(\"YYYY-MM-DD\");\n        quarterEnd = moment().set({ month: 11, date: 31 }).format(\"YYYY-MM-DD\");\n      }\n      this.date = [quarterStart, quarterEnd];\n      this.fetchProjectStatus(this.projectName,this.date)\n\n\n    },\n    selectYear() {\n      const start = moment().startOf(\"year\").format(\"YYYY-MM-DD\");\n      const end = moment().endOf(\"year\").format(\"YYYY-MM-DD\");\n      this.date = [start, end];\n      this.fetchProjectStatus(this.projectName,this.date)\n\n    },\n    getData(){\n      const numbers = [1, 200, 4, 832, 221, \"560天\"];\n      this.items = this.items.map((item, index) => {\n        return { name: item.name, number: numbers[index].toString() };\n      });\n    },\n    async fetchProjects(project) {\n      try {\n        // 这里可以使用axios或其他方法发送请求获取数据\n        const response = await this.$axios.get(\"/epic\",{\n          params:{\n            project: project,\n          }\n        });\n        this.projects = response.data;\n      } catch (error) {\n        console.error(error);\n      }\n    },\n    async fetchProjectStatus(project,date) {\n      try {\n        const response = await this.$axios.get(\"/status\",{\n          params:{\n            project: project,\n            startDate: date[0],\n            endDate: date[1]\n          }\n        });\n        console.log(response.data)\n        this.items = response.data;\n      } catch (error) {\n        console.error(error);\n      }\n    }\n  },\n  created() {\n    this.selectYear();\n    this.fetchProjects(this.projectName);\n\n  }\n}\n</script>\n\n<style>\n.big-card {\n  width: 856px;\n  height: 350px;\n}\n.item-content {\n  margin-left: 100px;\n  border-right: 1px solid #ccc;\n}\n</style>\n"]}]}